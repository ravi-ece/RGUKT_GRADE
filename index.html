

<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RGUKT Grading System</title>

  <!-- Tailwind CDN (play) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- small libraries -->
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <style>
      /* Mobile: blue light header background */
      @media (max-width: 600px) {
        header {
          background: linear-gradient(120deg, #dbeafe 0%, #60a5fa 100%) !important;
        }
      }
  /* ...existing code... */
      /* Restore previous theme for logo and background on mobile */
      @media (max-width: 600px) {
        .bg-white\/70, .dark\:bg-slate-900\/70 {
          background: rgba(255,255,255,0.7) !important;
          box-shadow: 0 2px 12px rgba(0,0,0,0.08);
          border-radius: 2rem !important;
          padding: 1rem !important;
        }
        img[alt="RGUKT Logo"] {
          background: #fff !important;
          border-radius: 50% !important;
          box-shadow: 0 2px 12px rgba(0,0,0,0.08);
          margin: 0 auto !important;
          display: block !important;
        }
      }
      /* Completely disable header/background animations and ensure logo is always visible on mobile */
      @media (max-width: 600px) {
        .animate-fade-in,
        .animate-fade-in-up,
        .animate-gradientMove,
        .animate-float {
          animation: none !important;
          transition: none !important;
        }
        header,
        .bg-white\/70, .dark\:bg-slate-900\/70 {
          position: static !important;
          box-shadow: none !important;
          background: #fff !important;
        }
        img[alt="RGUKT Logo"] {
          display: block !important;
          width: 100px !important;
          max-width: 100px !important;
          height: 100px !important;
          margin: 0 auto !important;
          position: static !important;
          z-index: 10 !important;
          background: #fff !important;
          border-radius: 50% !important;
          box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        .fixed.inset-0 {
          display: none !important;
        }
      }
      /* Ensure logo is always visible and properly sized on mobile */
      @media (max-width: 600px) {
        img[alt="RGUKT Logo"] {
          display: block !important;
          width: 90vw !important;
          max-width: 120px !important;
          height: auto !important;
          margin: 0 auto !important;
          position: relative !important;
          z-index: 10 !important;
          background: #fff !important;
          border-radius: 50% !important;
          box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        }
        .bg-white\/70, .dark\:bg-slate-900\/70 {
          min-width: 0 !important;
          width: 100vw !important;
          max-width: 100vw !important;
          justify-content: center !important;
          align-items: center !important;
        }
      }
      /* Mobile responsive fixes for subjects section and cards */
      @media (max-width: 600px) {
        #subjectsSection {
          padding: 10px !important;
          border-radius: 1.2rem !important;
          min-width: 0 !important;
          width: 100vw !important;
          max-width: 100vw !important;
          overflow-x: auto !important;
        }
        #subjectsContainer {
          padding: 0 !important;
          margin: 0 !important;
          width: 100vw !important;
          max-width: 100vw !important;
          overflow-x: auto !important;
        }
        .card-cse, .card-ece, .card-eee, .card-civil, .card-mech, .card-mme, .card-chem, .card-puc, .card-default {
          font-size: 1rem !important;
          padding: 10px !important;
          margin-bottom: 10px !important;
          min-width: 0 !important;
          width: 98vw !important;
          max-width: 98vw !important;
          box-sizing: border-box !important;
        }
          .card-pop,
          .fade-in,
          .pop,
          .cse-bg, .ece-bg, .eee-bg, .civil-bg, .mech-bg, .mme-bg, .chem-bg, .puc-bg,
          html.dark .cse-bg,
          html.dark .ece-bg,
          html.dark .eee-bg,
          html.dark .civil-bg,
          html.dark .mech-bg,
          html.dark .mme-bg,
          html.dark .chem-bg,
          html.dark .puc-bg {
            animation-duration: 0s !important;
            transition-duration: 0s !important;
            animation-delay: 0s !important;
          }
      }
    /* Extra small animations */
    .fade-in { animation: fadeIn .4s ease both; }
    @keyframes fadeIn { from{opacity:0; transform: translateY(6px)} to{opacity:1; transform:none} }
    .pop { animation: pop .28s ease both; }
    @keyframes pop { 0%{transform:scale(.95)} 70%{transform:scale(1.02)} 100%{transform:scale(1)} }

      /* Reduce animation durations for mobile devices */
      @media (max-width: 600px) {
        .fade-in { animation: fadeIn 0.15s ease both !important; }
        .pop { animation: pop 0.12s ease both !important; }
        .cse-bg, .ece-bg, .eee-bg, .civil-bg, .mech-bg, .mme-bg, .chem-bg, .puc-bg {
          animation-duration: 2s !important;
        }
        html.dark .cse-bg,
        html.dark .ece-bg,
        html.dark .eee-bg,
        html.dark .civil-bg,
        html.dark .mech-bg,
        html.dark .mme-bg,
        html.dark .chem-bg,
        html.dark .puc-bg {
          animation-duration: 2s !important;
        }
      }

    /* Branch color themes for tag and cards */
    .branch-tag.cse-theme, .card-cse { background: #fee2e2; color: #991b1b; }
    .branch-tag.ece-theme, .card-ece { background: #dbeafe; color: #1e3a8a; }
    .branch-tag.eee-theme, .card-eee { background: #ffedd5; color: #9a3412; }
    .branch-tag.civil-theme, .card-civil { background: #fef9c3; color: #92400e; }
    .branch-tag.mech-theme, .card-mech { background: #ede9fe; color: #5b21b6; }
    .branch-tag.mme-theme, .card-mme { background: #fce7f3; color: #a21caf; }
    .branch-tag.chem-theme, .card-chem { background: #ccfbf1; color: #134e4a; }
    .branch-tag.puc-theme, .card-puc { background: #bbf7d0; color: #166534; }
    .branch-tag.default-theme, .card-default { background: #f3f4f6; color: #374151; }

    /* Branch background themes for body with animated gradients */
    .cse-bg { background: linear-gradient(120deg, #fee2e2 0%, #fca5a5 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .ece-bg { background: linear-gradient(120deg, #dbeafe 0%, #60a5fa 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .eee-bg { background: linear-gradient(120deg, #ffedd5 0%, #fdba74 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .civil-bg { background: linear-gradient(120deg, #fef9c3 0%, #fde68a 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .mech-bg { background: linear-gradient(120deg, #ede9fe 0%, #a78bfa 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .mme-bg { background: linear-gradient(120deg, #fce7f3 0%, #f472b6 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .chem-bg { background: linear-gradient(120deg, #ccfbf1 0%, #2dd4bf 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .puc-bg { background: linear-gradient(120deg, #bbf7d0 0%, #4ade80 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    .default-bg { background: #f3f4f6; }

    /* Dark mode branch backgrounds with animated gradients */
    html.dark .cse-bg { background: linear-gradient(120deg, #7f1d1d 0%, #991b1b 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .ece-bg { background: linear-gradient(120deg, #1e3a8a 0%, #2563eb 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .eee-bg { background: linear-gradient(120deg, #78350f 0%, #ea580c 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .civil-bg { background: linear-gradient(120deg, #92400e 0%, #f59e0b 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .mech-bg { background: linear-gradient(120deg, #5b21b6 0%, #7c3aed 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .mme-bg { background: linear-gradient(120deg, #a21caf 0%, #db2777 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .chem-bg { background: linear-gradient(120deg, #134e4a 0%, #14b8a6 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .puc-bg { background: linear-gradient(120deg, #166534 0%, #10b981 100%); animation: gradientMove 8s ease-in-out infinite alternate; }
    html.dark .default-bg { background: #0f172a; }

      select, select option {
        background: #e5e7eb;
        color: #1e293b;
        border: 1px solid #2563eb;
      }
      select:focus, select option:checked {
        background: #2563eb;
        color: #fff;
      }
    /* Animated gradient keyframes */
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    /* Card pop animation for subject rows */
    .card-pop { animation: cardPop .5s cubic-bezier(.68,-0.55,.27,1.55) both; }
    @keyframes cardPop {
      0% { transform: scale(0.95) rotate(-2deg); opacity: 0.2; }
      60% { transform: scale(1.05) rotate(2deg); opacity: 1; }
      100% { transform: scale(1) rotate(0deg); }
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 min-h-screen">
<!-- Floating Action Button -->
<button id="fabDownload" class="fixed bottom-8 right-8 z-50 p-5 rounded-full bg-gradient-to-br from-green-500 to-blue-500 text-white shadow-2xl hover:scale-110 transition-transform text-2xl font-bold flex items-center gap-2 animate-fade-in-up" data-tooltip="Download Report">
  <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4" /></svg>
  <span class="hidden md:inline">Download</span>
</button>
<!-- Toast Notification -->
<div id="toast" class="fixed top-6 right-6 z-50 hidden px-6 py-4 rounded-xl bg-gradient-to-r from-green-500 to-blue-500 text-white text-lg font-bold shadow-lg animate-fade-in"></div>

<!-- Animated Background -->
<div class="fixed inset-0 -z-10 bg-gradient-to-br from-blue-200 via-green-100 to-emerald-200 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 animate-gradientMove"></div>
<header class="bg-gradient-to-r from-blue-100 to-green-100 dark:from-slate-900 dark:to-slate-900 backdrop-blur-xl border-b border-gray-200 dark:border-slate-800 shadow-lg">
  <div class="max-w-6xl mx-auto px-2 py-4 flex flex-col items-center justify-center">
    <div class="flex flex-col md:flex-row items-center gap-4 md:gap-6 mb-2 w-full">
      <div class="bg-white/70 dark:bg-slate-900/70 rounded-full p-2 shadow-lg border border-gray-300 dark:border-slate-700 flex justify-center items-center w-full md:w-auto">
  <img src="logo.png" alt="RGUKT Logo" class="w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 rounded-full object-cover border-8 border-green-600 shadow-2xl bg-white" style="max-width:180px;max-height:180px;" />
      </div>
      <div class="flex-1 text-center md:text-left">
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-wide text-center md:text-left text-transparent bg-clip-text bg-gradient-to-r from-blue-700 via-green-600 to-emerald-500 dark:from-blue-300 dark:via-green-300 dark:to-emerald-200 animate-fade-in-up">RAJIV GANDHI UNIVERSITY OF KNOWLEDGE AND TECHNOLOGIES, A.P</h1>
        <h2 class="text-base sm:text-lg md:text-xl font-semibold text-green-700 dark:text-green-300 text-center md:text-left mt-1 animate-fade-in">Ongole Campus</h2>
      </div>
    </div>
    <div id="branchHeading" class="text-xl font-bold mt-2 mb-1 text-center text-blue-700 dark:text-blue-300 animate-fade-in"></div>
    <div class="flex items-center gap-4 mt-4">
      <button id="themeToggle" class="px-4 py-2 rounded-lg text-base bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow hover:scale-105 transition-transform">Dark Mode</button>
      <button id="downloadBtn" class="ml-2 px-4 py-2 rounded-lg text-base bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold shadow-lg hover:scale-105 transition-transform">Download Report</button>
      <!-- Mobile Nav Toggle (moved to right) -->
      <button id="navToggle" class="md:hidden ml-auto px-3 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-green-500 text-white font-bold shadow-lg focus:outline-none" aria-label="Open Menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
      </button>
      <nav id="mainNav" class="hidden md:flex gap-4">
        <a href="https://www.rgukt.in" target="_blank" rel="noopener" class="text-base text-green-600 dark:text-green-300 hover:underline font-medium">About</a>
      </nav>
      <!-- Mobile Nav Menu -->
      <div id="mobileNav" class="fixed top-0 right-0 w-full h-full bg-black/60 z-50 hidden">
        <div class="bg-white dark:bg-slate-900 rounded-bl-2xl shadow-xl p-6 flex flex-col gap-4 text-center w-3/4 sm:w-1/2 ml-auto h-full">
          <button id="closeNav" class="self-end text-2xl text-slate-700 dark:text-slate-200">&times;</button>
          <a href="https://www.rgukt.in" target="_blank" rel="noopener" class="text-lg text-green-600 dark:text-green-300 hover:underline font-semibold">About</a>
        </div>
      </div>
    </div>
  </div>
</header>

<main class="mt-8 pb-12">
  <!-- Animated Progress Bar -->
  <div id="progressBar" class="fixed top-0 left-0 w-0 h-2 bg-gradient-to-r from-blue-500 to-green-500 z-50 transition-all"></div>
  <!-- Loading Spinner -->
  <div id="loadingSpinner" class="fixed inset-0 z-40 flex items-center justify-center bg-black/30 hidden">
    <div class="w-16 h-16 border-4 border-blue-400 border-t-green-400 rounded-full animate-spin"></div>
  </div>
  <div class="max-w-6xl mx-auto px-2 sm:px-4">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-8">
      <!-- Left: selection panel -->
      <section id="panelSelection" class="bg-white/80 dark:bg-slate-800/80 rounded-3xl p-7 shadow-xl border border-gray-100 dark:border-slate-700 fade-in backdrop-blur-lg">
  <div class="absolute -top-6 -left-6 w-16 h-16 sm:w-24 sm:h-24 bg-gradient-to-br from-blue-300 to-green-200 rounded-full blur-2xl opacity-40 animate-float"></div>
        <h2 class="text-2xl font-bold mb-4 text-blue-700 dark:text-blue-300">1. Choose Program</h2>
        <div class="space-y-5">
          <div>
            <label class="block text-base text-slate-600 dark:text-slate-300 mb-2 font-semibold">Program</label>
            <select id="programSelect" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-blue-500 transition-all">
              <option value="" disabled selected class="text-slate-400">-- Select --</option>
              <option value="puc" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">
                🏫 PUC
              </option>
              <option value="btech" class="flex items-center gap-2 hover:bg-green-100 dark:hover:bg-green-900 transition-all">
                💻 BTECH
              </option>
            </select>
          </div>
          <!-- PUC path -->
          <div id="pucOptions" class="hidden space-y-5">
            <label class="block text-base text-slate-600 dark:text-slate-300 font-semibold">PUC Year</label>
            <select id="pucYear" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-green-500 transition-all">
              <option value="" disabled selected class="text-slate-400">-- Select PUC --</option>
              <option value="PUC-I" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">1️⃣ PUC-I</option>
              <option value="PUC-II" class="flex items-center gap-2 hover:bg-green-100 dark:hover:bg-green-900 transition-all">2️⃣ PUC-II</option>
            </select>
            <label class="block text-base text-slate-600 dark:text-slate-300 font-semibold">Semester</label>
            <select id="pucSem" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-green-500 transition-all">
              <option value="" disabled selected class="text-slate-400">-- Select Semester --</option>
              <option value="1" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">📘 SEM1</option>
              <option value="2" class="flex items-center gap-2 hover:bg-green-100 dark:hover:bg-green-900 transition-all">📗 SEM2</option>
            </select>
          </div>
          <!-- BTECH path -->
          <div id="btechOptions" class="hidden space-y-5">
            <div>
              <label class="block text-base text-slate-600 dark:text-slate-300 font-semibold">Branch</label>
              <select id="branchSelect" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-purple-500 transition-all">
                <option value="" disabled selected class="text-slate-400">-- Select Branch --</option>
                <option value="cse" class="flex items-center gap-2 hover:bg-red-100 dark:hover:bg-red-900 transition-all">💻 CSE</option>
                <option value="ece" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">📡 ECE</option>
                <option value="eee" class="flex items-center gap-2 hover:bg-orange-100 dark:hover:bg-orange-900 transition-all">⚡ EEE</option>
                <option value="civil" class="flex items-center gap-2 hover:bg-yellow-100 dark:hover:bg-yellow-900 transition-all">🏗️ CIVIL</option>
                <option value="mech" class="flex items-center gap-2 hover:bg-violet-100 dark:hover:bg-violet-900 transition-all">🔧 MECH</option>
                <option value="mme" class="flex items-center gap-2 hover:bg-pink-100 dark:hover:bg-pink-900 transition-all">🧪 MME</option>
                <option value="chem" class="flex items-center gap-2 hover:bg-teal-100 dark:hover:bg-teal-900 transition-all">🧬 CHEM</option>
              </select>
            </div>
            <div>
              <label class="block text-base text-slate-600 dark:text-slate-300 font-semibold">Year</label>
              <select id="yearSelect" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-purple-500 transition-all">
                <option value="" disabled selected class="text-slate-400">-- Select Year --</option>
                <option value="1" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">1️⃣ Year 1</option>
                <option value="2" class="flex items-center gap-2 hover:bg-green-100 dark:hover:bg-green-900 transition-all">2️⃣ Year 2</option>
                <option value="3" class="flex items-center gap-2 hover:bg-yellow-100 dark:hover:bg-yellow-900 transition-all">3️⃣ Year 3</option>
                <option value="4" class="flex items-center gap-2 hover:bg-purple-100 dark:hover:bg-purple-900 transition-all">4️⃣ Year 4</option>
              </select>
            </div>
            <div>
              <label class="block text-base text-slate-600 dark:text-slate-300 font-semibold">Semester</label>
              <select id="btechSem" class="w-full rounded-xl border-2 p-3 bg-white dark:bg-slate-900 text-lg font-medium focus:ring-2 focus:ring-purple-500 transition-all">
                <option value="" disabled selected class="text-slate-400">-- Select Semester --</option>
                <option value="1" class="flex items-center gap-2 hover:bg-blue-100 dark:hover:bg-blue-900 transition-all">📘 SEM1</option>
                <option value="2" class="flex items-center gap-2 hover:bg-green-100 dark:hover:bg-green-900 transition-all">📗 SEM2</option>
              </select>
            </div>
          </div>
          <div class="pt-4">
            <button id="loadSubjectsBtn" class="w-full py-3 rounded-xl bg-gradient-to-r from-indigo-600 to-green-500 text-white text-lg font-bold shadow-lg hover:scale-105 transition-transform">Load Subjects</button>
          </div>
        </div>
      </section>
      <!-- Middle: subject list -->
      <section id="subjectsSection" class="lg:col-span-2 bg-white/90 dark:bg-slate-800/90 rounded-3xl p-7 shadow-xl border border-gray-100 dark:border-slate-700 backdrop-blur-lg">
          <div id="modifySubjectsModal" class="fixed top-0 left-0 w-full h-full bg-black/40 z-50 hidden flex items-center justify-center">
            <div class="bg-white dark:bg-slate-900 rounded-2xl shadow-2xl p-6 w-full max-w-md">
              <h3 class="text-xl font-bold mb-4 text-blue-700 dark:text-blue-300">Modify Subjects</h3>
              <form id="addSubjectForm" class="mb-4">
                <div class="mb-2">
                  <label class="block text-sm font-semibold mb-1">Subject Name</label>
                  <input type="text" id="newSubjectName" class="w-full rounded-lg border p-2 bg-white text-gray-900" required />
                </div>
                <div class="mb-2">
                  <label class="block text-sm font-semibold mb-1">Subject Code</label>
                  <input type="text" id="newSubjectCode" class="w-full rounded-lg border p-2 bg-white text-gray-900" required />
                </div>
                <div class="mb-2">
                  <label class="block text-sm font-semibold mb-1">Credits</label>
                  <input type="number" id="newSubjectCredits" class="w-full rounded-lg border p-2 bg-white text-gray-900" min="1" max="10" required />
                </div>
                <button type="submit" class="px-4 py-2 rounded-lg bg-gradient-to-r from-green-400 to-green-600 text-white font-bold shadow">Add Subject</button>
              </form>
              <div class="mb-4">
                <label class="block text-sm font-semibold mb-2">Remove Subjects</label>
                <div id="removeSubjectsList" class="space-y-2"></div>
              </div>
              <div class="flex gap-2 justify-end">
                <button id="saveSubjectsBtn" class="px-4 py-2 rounded-lg bg-gradient-to-r from-blue-400 to-blue-600 text-white font-bold shadow">Save Changes</button>
                <button id="closeModifyModal" class="px-4 py-2 rounded-lg bg-gray-300 text-gray-800 font-bold shadow">Cancel</button>
              </div>
            </div>
          </div>
  <button id="modifySubjectsBtn" class="fixed bottom-8 left-8 z-50 p-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-400 text-white shadow-2xl hover:scale-110 transition-transform text-2xl font-bold flex items-center gap-2 animate-fade-in-up" style="min-width:56px;min-height:56px;justify-content:center;align-items:center;" title="Modify Subjects">
      /* Mobile: blue light header background */
      @media (max-width: 600px) {
        header {
          background: linear-gradient(120deg, #dbeafe 0%, #60a5fa 100%) !important;
        }
      }
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
        </button>
  <div class="absolute -top-8 -right-8 w-20 h-20 sm:w-32 sm:h-32 bg-gradient-to-br from-green-300 to-blue-200 rounded-full blur-2xl opacity-30 animate-float"></div>
        <div class="flex items-start justify-between mb-6">
          <h2 class="text-2xl font-bold text-blue-700 dark:text-blue-300">2. Subjects & Grades</h2>
          <div id="branchTag" class="px-4 py-2 rounded-full text-lg font-bold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 hidden">PUC</div>
        </div>
  <div id="subjectsContainer" class="space-y-5">
          <p class="text-lg text-slate-500">Select program and load subjects to begin.</p>
        </div>
        <div class="mt-6 flex gap-4 items-center">
          <button id="calcBtn" class="px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-green-500 text-white text-lg font-bold shadow-lg hover:scale-105 transition-transform">Calculate SGPA</button>
          <div id="resultBox" class="ml-auto text-right">
            <div id="sgpaDisplay" class="text-3xl font-extrabold"></div>
            <div id="classAward" class="text-lg text-slate-500"></div>
          </div>
        </div>
      </section>
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="mt-8">
  <div class="max-w-6xl mx-auto px-2 sm:px-4 text-center py-6 sm:py-8 text-base font-semibold text-slate-700 dark:text-slate-300 bg-gradient-to-r from-blue-100 to-green-100 dark:from-slate-900 dark:to-slate-800 rounded-2xl shadow-lg mt-8 sm:mt-12">
    <div class="flex flex-col md:flex-row items-center justify-center gap-4">
  <span class="inline-block px-2 py-2 sm:px-4 rounded-xl bg-gradient-to-r from-green-400 to-blue-400 text-white font-bold shadow-lg animate-fade-in text-sm sm:text-base">Built with ❤️ for RGUKT</span>
  <span class="inline-block px-2 py-2 sm:px-4 rounded-xl bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold shadow-lg animate-fade-in text-sm sm:text-base">Developed by rk</span>
  <a href="https://rguktong.ac.in/" target="_blank" class="inline-block px-2 py-2 sm:px-4 rounded-xl bg-gradient-to-r from-emerald-400 to-blue-400 text-white font-bold shadow-lg hover:scale-105 transition-transform animate-fade-in text-sm sm:text-base">Visit RGUKT Ongole</a>
    </div>
    <div class="mt-4 text-xs text-slate-500 dark:text-slate-400">Developed by RK &copy; 2025 RGUKT Grading System. All rights reserved.</div>
  </div>
  <style>
    .animate-gradientMove { animation: gradientMove 12s ease-in-out infinite alternate; }
    .animate-float { animation: float 6s ease-in-out infinite alternate; }
    @keyframes float { 0% { transform: translateY(0) scale(1); } 100% { transform: translateY(-12px) scale(1.05); } }
  </style>
</footer>

<!-- scripts -->
<!-- all_subjects_combined.js should be included here in same folder -->
<script src="all_subjects_combined.js"></script>
<script src="script.js"></script>
<script>
// Mobile nav toggle
const navToggle = document.getElementById('navToggle');
const mobileNav = document.getElementById('mobileNav');
const closeNav = document.getElementById('closeNav');
navToggle?.addEventListener('click', () => {
  mobileNav.classList.remove('hidden');
});
closeNav?.addEventListener('click', () => {
  mobileNav.classList.add('hidden');
});
mobileNav?.addEventListener('click', (e) => {
  if (e.target === mobileNav) mobileNav.classList.add('hidden');
});
</script>
<script>
// More congratulations animations
document.getElementById('calcBtn')?.addEventListener('click', () => {
  setTimeout(() => {
    let confettiColors = ['#2563eb', '#10b981', '#f59e0b', '#ef4444', '#7c3aed', '#22d3ee', '#eab308'];
    for (let i = 0; i < 3; i++) {
      setTimeout(() => {
        confetti({
          particleCount: 80,
          spread: 70,
          origin: { y: 0.3 },
          colors: confettiColors
        });
      }, i * 400);
    }
    // Animated emoji burst
    let emoji = document.createElement('div');
    emoji.textContent = '🎉🎊✨';
    emoji.className = 'fixed top-1/3 left-1/2 -translate-x-1/2 text-5xl font-extrabold animate-bounce z-50';
    document.body.appendChild(emoji);
    setTimeout(() => emoji.remove(), 1200);
  }, 400);
});
</script>
<script>
// Floating Action Button triggers download
document.getElementById('fabDownload').addEventListener('click', () => {
  document.getElementById('downloadBtn').click();
});

// Auto-switch theme based on system preference
if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
  document.documentElement.classList.add('dark');
}
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
  if (e.matches) document.documentElement.classList.add('dark');
  else document.documentElement.classList.remove('dark');
});

// Animated modal for report download
document.getElementById('downloadBtn').addEventListener('click', () => {
  let modal = document.createElement('div');
  modal.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black/40 animate-fade-in';
  modal.innerHTML = `<div class="bg-white dark:bg-slate-900 rounded-2xl p-8 shadow-2xl text-center max-w-md mx-auto animate-fade-in-up">
    <h2 class="text-2xl font-bold mb-4 text-blue-600 dark:text-blue-300">Report is being prepared...</h2>
    <div class="w-16 h-16 mx-auto mb-4 border-4 border-blue-400 border-t-green-400 rounded-full animate-spin"></div>
    <p class="text-lg text-slate-700 dark:text-slate-300 mb-2">Please wait while your SGPA report is generated.</p>
    <button id="closeModal" class="mt-4 px-6 py-2 rounded-xl bg-gradient-to-r from-green-500 to-blue-500 text-white font-bold shadow-lg hover:scale-105 transition-transform">Close</button>
  </div>`;
  document.body.appendChild(modal);
  document.getElementById('closeModal').onclick = () => modal.remove();
  setTimeout(() => { if (modal) modal.remove(); }, 3500);
});

// Animated progress bar for SGPA calculation
document.getElementById('calcBtn').addEventListener('click', () => {
  const bar = document.getElementById('progressBar');
  bar.style.width = '0%';
  bar.classList.remove('hidden');
  setTimeout(() => { bar.style.width = '100%'; }, 100);
  setTimeout(() => { bar.style.width = '0%'; }, 1200);
});
</script>
<script>
// Show toast notification
function showToast(msg) {
  const toast = document.getElementById('toast');
  toast.textContent = msg;
  toast.classList.remove('hidden');
  setTimeout(() => toast.classList.add('hidden'), 2200);
}

// Show/hide loading spinner
function showLoading(show) {
  const spinner = document.getElementById('loadingSpinner');
  if (show) spinner.classList.remove('hidden');
  else spinner.classList.add('hidden');
}

// Add animated tooltip to buttons
document.querySelectorAll('button, [data-tooltip]').forEach(btn => {
  btn.addEventListener('mouseenter', e => {
    let tip = btn.getAttribute('data-tooltip');
    if (!tip) return;
    let tooltip = document.createElement('div');
    tooltip.className = 'fixed px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-green-500 text-white text-base font-semibold shadow-lg animate-fade-in z-50';
    tooltip.textContent = tip;
    document.body.appendChild(tooltip);
    let rect = btn.getBoundingClientRect();
    tooltip.style.top = (rect.top - 40) + 'px';
    tooltip.style.left = (rect.left + rect.width/2 - 60) + 'px';
    btn._tooltip = tooltip;
  });
  btn.addEventListener('mouseleave', e => {
    if (btn._tooltip) btn._tooltip.remove();
  });
});

// Add hover effect to subject cards
setTimeout(() => {
  document.querySelectorAll('#subjectsContainer .grid').forEach(card => {
    card.classList.add('transition-transform', 'hover:scale-105', 'hover:shadow-2xl');
  });
}, 1200);

// Example: show toast on SGPA calculation
document.getElementById('calcBtn')?.addEventListener('click', () => {
  showToast('SGPA calculated successfully!');
});
</script>

</body>
</html>
